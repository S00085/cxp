# GraphQL Engine VS REST API

* Status: Accepted
* Date:  07-12-2023

## Context and Problem Statement

Choice of REST API vs GraphQL engine.

## Decision Drivers

* Structured data access
* Flexibility
* Efficiency

## Considered Options

* GraphQL
* REST API

## Pros and Cons of the Options

### GraphQL

* GraphQL is good for large, complex, and interrelated data sources.
* Good, Flexible nature of GraphQL, changes on the client-side can be made without any extra work on the server. Since clients can specify their exact data requirements, no backend engineer needs to make adjustments when the design and data needs on the frontend change.
* Better operational efficiency - no more underfetching and overfetching.
* GraphQL data is strongly typed. So the client receives data in predetermined and mutually understood formats.
* Once the schema is defined, frontend and backend teams can work independently from one another.
* With GraphQL, invalid requests are typically rejected by schema structure. This results in an autogenerated error message.

### REST API

* REST is good for simple data sources where resources are well defined. 
* Good, when there are no requirement for complex data querying.
* Good, when data and operations that all clients uses similarily.
* Bad, REST data is weakly typed. So the client must decide how to interpret the formatted data when it is returned.
* With REST, the client must check if the returned data is valid.

## Decision Outcome

* Chosen option - GraphQL

Decision influenced by the following factors
* More flexible and efficient than REST APIs
* Better operational efficiency - no more underfetching and overfetching.
* Flexible nature of GraphQL,  changes on the client-side can be made without any extra work on the server. Since clients can specify their exact data requirements, no backend engineer needs to make adjustments when the design and data needs on the frontend change.
* Ability to provide different responses for channel interactions/partner interactions for the same endpoint.


